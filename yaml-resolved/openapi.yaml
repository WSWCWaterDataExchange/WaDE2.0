openapi: 3.0.0
info:
  title: The Water Data Exchange (WaDE) program API
  description: This is demo WaDE 2.0 API that is still in the development stage and not yet deployed
  termsOfService: http://wade.westernstateswater.org/
  contact:
    email: saralarsen@wswc.utah.gov
  license:
    name: The 3-Clause BSD License
    url: https://opensource.org/licenses/BSD-3-Clause
  version: 1.0.0
servers:
- url: https://virtserver.swaggerhub.com/WesternStatesWater/WaDE2.0/1.0.0
  description: SwaggerHub WaDE API
tags:
- name: WaDE Admins
  description: Secured WaDE Admin-only calls
- name: Developers
  description: Operations available to regular developers
paths:
  /AggVariableData:
    get:
      tags:
      - Developers
      summary: retrives  time series data for aggregate data
      description: |
        By passing in the appropriate options, you can search for
        available inventory in the system
      parameters:
      - name: VariableType
        in: query
        description: pass an optional search string for looking up inventory
        required: false
        style: form
        explode: true
        schema:
          type: string
      - name: VariableNameCV
        in: query
        description: number of records to skip for pagination
        required: false
        style: form
        explode: true
        schema:
          minimum: 0
          type: integer
          format: int32
      - name: ReportUnitCode
        in: query
        description: maximum number of records to return
        required: false
        style: form
        explode: true
        schema:
          maximum: 50
          minimum: 0
          type: integer
          format: int32
      responses:
        200:
          description: OK. search results matching criteria
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AggregatedAmounts'
            application/xml:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AggregatedAmounts'
        400:
          description: bad input parameter a
        404:
          description: bad input parameter b
  /AggRegulatoryOverlay:
    get:
      tags:
      - Developers
      summary: retrives data for each of the HUC, county, or planning region's regulatory and institutional concerns.
      description: |
        By passing in the appropriate options, you can search for
        available inventory in the system
      parameters:
      - name: ReportUnitCode
        in: query
        description: maximum number of records to return
        required: false
        style: form
        explode: true
        schema:
          maximum: 50
          minimum: 0
          type: integer
          format: int32
      responses:
        200:
          description: search results matching criteria
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/RegulatoryReportingUnits'
        400:
          description: bad input parameter
  /SiteVariableData:
    get:
      tags:
      - Developers
      summary: retrives time series data for given site and specific variable
      description: |
        By passing in the appropriate options, you can search for
        available inventory in the system
      parameters:
      - name: VariableType
        in: query
        description: pass an optional search string for looking up inventory
        required: false
        style: form
        explode: true
        schema:
          type: string
      - name: VariableNameCV
        in: query
        description: number of records to skip for pagination
        required: false
        style: form
        explode: true
        schema:
          minimum: 0
          type: integer
          format: int32
      - name: SiteCode
        in: query
        description: maximum number of records to return
        required: false
        style: form
        explode: true
        schema:
          maximum: 50
          minimum: 0
          type: integer
          format: int32
      responses:
        200:
          description: search results matching criteria
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SiteVariableAmounts'
        400:
          description: bad input parameter
  /SiteWaterAllocationData:
    get:
      tags:
      - Developers
      summary: retrives  time series water allocations (water rights) data for a site
      description: |
        By passing in the appropriate options, you can search for
        available inventory in the system
      parameters:
      - name: VariableType
        in: query
        description: pass an optional search string for looking up inventory
        required: false
        style: form
        explode: true
        schema:
          type: string
      - name: VariableNameCV
        in: query
        description: number of records to skip for pagination
        required: false
        style: form
        explode: true
        schema:
          minimum: 0
          type: integer
          format: int32
      - name: SiteCode
        in: query
        description: maximum number of records to return
        required: false
        style: form
        explode: true
        schema:
          maximum: 50
          minimum: 0
          type: integer
          format: int32
      responses:
        200:
          description: search results matching criteria
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/WaterAllocationAmounts'
        400:
          description: bad input parameter
components:
  schemas:
    AggregatedAmounts:
      required:
      - AggregatedAmountID
      type: object
      properties:
        TimeFrameStart:
          type: string
          format: uuid
          example: d290f1ee-6c54-4b01-90e6-d701748f0851
        TimeFrameEnd:
          type: string
          example: Widget Adapter
        ReportYear:
          type: string
          format: date-time
        ReportPublishDate:
          type: string
          format: date-time
        Amount:
          type: string
          format: date-time
        AmountsMetadataID:
          $ref: '#/components/schemas/AmountsMetadata'
        AggregatedVariableMetadataID:
          $ref: '#/components/schemas/AggregatedVariableMetadata'
    WaterAllocationAmounts:
      required:
      - WaterAllocationAmountID
      type: object
      properties:
        TimeFrameStart:
          type: string
          format: uuid
          example: d290f1ee-6c54-4b01-90e6-d701748f0851
        TimeFrameEnd:
          type: string
          example: Widget Adapter
        ReportYear:
          type: string
          format: date-time
        ReportPublishDate:
          type: string
          format: date-time
        WaterAllocationAcreage:
          type: string
          format: date-time
        WaterAllocationBasisCV:
          type: string
          example: Widget Adapter
        WaterAllocationDutyAmount:
          type: string
          format: date-time
        WaterAllocationAmount:
          type: string
          format: date-time
        MaximumAmountUnitCV:
          type: string
          format: date-time
        WaterAllocationMaximum:
          type: string
          format: date-time
        AmountsMetadataID:
          $ref: '#/components/schemas/AmountsMetadata'
        SiteVariableMetadataID:
          $ref: '#/components/schemas/SiteVariableMetadata'
    SiteVariableAmounts:
      required:
      - SiteVariableAmountID
      type: object
      properties:
        TimeFrameStart:
          type: string
          format: uuid
          example: d290f1ee-6c54-4b01-90e6-d701748f0851
        TimeFrameEnd:
          type: string
          example: Widget Adapter
        ReportYear:
          type: string
          format: date-time
        ReportPublishDate:
          type: string
          format: date-time
        Amount:
          type: string
          format: date-time
        AmountsMetadataID:
          $ref: '#/components/schemas/AmountsMetadata'
        SiteVariableMetadataID:
          $ref: '#/components/schemas/SiteVariableMetadata'
    AmountsMetadata:
      required:
      - AmountMetadataID
      type: object
      properties:
        AmountMetadataID:
          type: string
          format: uuid
          example: d290f1ee-6c54-4b01-90e6-d701748f0851
        CommunityWaterSystem:
          type: string
          example: Widget Adapter
        IrrigatedAcreage:
          type: string
          format: date-time
        IrrigationMethod:
          type: string
          format: uuid
          example: d290f1ee-6c54-4b01-90e6-d701748f0851
        CropType:
          type: string
          example: Widget Adapter
        PowerGeneratedGWh:
          type: string
          format: date-time
        IndustrialSectorName:
          type: string
          example: Widget Adapter
        Geometry:
          type: string
          format: date-time
    AggregatedVariableMetadata:
      required:
      - AggregatedVariableMetadataID
      type: object
      properties:
        AggregatedVariableMetadataID:
          type: string
          format: uuid
          example: d290f1ee-6c54-4b01-90e6-d701748f0851
        BeneficialUseCategory:
          type: string
          example: Widget Adapter
        WaterAllocationPrimaryUseCategory:
          type: string
          format: date-time
        UnitOfMeasureCV:
          type: string
          format: uuid
          example: d290f1ee-6c54-4b01-90e6-d701748f0851
        AggregationStatisticCV:
          type: string
          example: Widget Adapter
        AggregationInterval:
          type: string
          format: date-time
        AggregationIntervalUnitCV:
          type: string
          format: uuid
          example: d290f1ee-6c54-4b01-90e6-d701748f0851
        ReportYearStartMonth:
          type: string
          example: Widget Adapter
        ReportYearTypeCV:
          type: string
          format: date-time
        NAICSCodeCV:
          type: string
          format: date-time
        VariableSpecificID:
          $ref: '#/components/schemas/VariablesSpecific'
        ReportingUnitID:
          $ref: '#/components/schemas/ReportingUnits'
        MethodID:
          $ref: '#/components/schemas/Methods'
        WaterSourceID:
          $ref: '#/components/schemas/WaterSources'
    SiteVariableMetadata:
      required:
      - SiteVariableMetadataID
      type: object
      properties:
        SiteVariableMetadataID:
          type: string
          format: uuid
          example: d290f1ee-6c54-4b01-90e6-d701748f0851
        BeneficialUseCategory:
          type: string
          example: Widget Adapter
        WaterAllocationPrimaryUseCategory:
          type: string
          format: date-time
        UnitOfMeasureCV:
          type: string
          format: uuid
          example: d290f1ee-6c54-4b01-90e6-d701748f0851
        AggregationStatisticCV:
          type: string
          example: Widget Adapter
        AggregationInterval:
          type: string
          format: date-time
        AggregationIntervalUnitCV:
          type: string
          format: uuid
          example: d290f1ee-6c54-4b01-90e6-d701748f0851
        ReportYearStartMonth:
          type: string
          example: Widget Adapter
        ReportYearTypeCV:
          type: string
          format: date-time
        SDWISID:
          type: string
          format: date-time
        NAICSCodeCV:
          type: string
          format: date-time
        VariableSpecificID:
          $ref: '#/components/schemas/VariablesSpecific'
        SiteID:
          $ref: '#/components/schemas/Sites'
        MethodID:
          $ref: '#/components/schemas/Methods'
        WaterSourceID:
          $ref: '#/components/schemas/WaterSources'
        WaterAllocationID:
          $ref: '#/components/schemas/WaterAllocations'
    WaterSources:
      required:
      - WaterSourceID
      - WaterSourceName
      type: object
      properties:
        WaterSourceID:
          type: string
          format: uuid
          example: d290f1ee-6c54-4b01-90e6-d701748f0851
        WaterSourceName:
          type: string
          example: Widget Adapter
        WaterSourceCode:
          type: string
          format: date-time
        WaterSourceTypeCV:
          type: string
          format: uuid
          example: d290f1ee-6c54-4b01-90e6-d701748f0851
        FreshSalineIndicatorCV:
          type: string
          example: Widget Adapter
        Geometry:
          type: string
          format: date-time
        Organization:
          type: string
          format: date-time
    Methods:
      required:
      - MethodID
      - MethodUID
      type: object
      properties:
        MethodID:
          type: integer
          description: An incremental unique identifier for each database instance that implements the table
          format: int32
          example: 1
        MethodUID:
          type: integer
          format: int32
        MethodName:
          type: string
          format: string
          example: Widget Adapter
        MethodDescription:
          type: string
          format: string
          example: xxxx
        MethodNEMILink:
          type: string
          format: string
          example: xx
        ApplicableResourceType:
          type: string
          format: string
          example: xx
        MethodTypeCV:
          type: string
          format: string
          example: xx
        DataCoverageValue:
          type: string
          format: string
          example: x
        DataQualityValue:
          type: string
          format: string
          example: xx
        DataConfidenceValue:
          type: string
          format: string
          example: xx
    VariablesSpecific:
      required:
      - VariableSpecificID
      - VariableSpecificTypeCV
      type: object
      properties:
        VariableSpecificID:
          type: integer
          format: int32
        VariableSpecificTypeCV:
          type: string
          example: Widget Adapter
        VariableTypeDescription:
          type: string
          format: string
          example: xxx
        VariableCV:
          type: string
          description: 'This is a high-level variable used for site-specific water
            data. The general categories available are for water withdrawal, consumptive
            use, and return flow: [SiteSpecificWithdrawal], [SiteSpecificConsumptiveUse],
            [SiteSpecificReturnFlow]'
          format: string
          example: SiteSpecificConsumptiveUse
    RegulatoryReportingUnits:
      required:
      - NHDMetadataID
      - ReportingUnitID
      type: object
      properties:
        BridgeID:
          type: integer
          format: int32
        NHDMetadataID:
          $ref: '#/components/schemas/RegulatoryOverlay'
        ReportingUnitID:
          $ref: '#/components/schemas/ReportingUnits'
    RegulatoryOverlay:
      required:
      - RegulatoryOverlayID
      type: object
      properties:
        RegulatoryOverlayID:
          type: integer
          format: int32
        RegulatoryStatusCV:
          type: string
          example: Widget Adapter
        OversightAgency:
          type: string
          format: string
          example: x
        RegulatoryDescription:
          type: string
          format: string
          example: ff
        TimeFrameStart:
          type: string
          format: date-time
        TimeFrameEnd:
          type: string
          format: date-time
        ReportPublishDate:
          type: string
          format: date-time
        ReportYearTypeCV:
          type: string
          format: string
          example: d
        ReportYearStartMonth:
          type: string
          format: string
          example: x
        ReportYearCV:
          type: string
          format: string
          example: x
    ReportingUnits:
      required:
      - ReportingUnitID
      - ReportingUnitUID
      type: object
      properties:
        ReportingUnitID:
          type: integer
          format: int32
        ReportingUnitUID:
          type: string
          format: string
          example: 1-UDWR
        ReportingUnitName:
          type: string
          format: string
          example: x
        ReportingUnitTypeCV:
          type: string
          format: string
          example: x
        ReportingUnitUpdateDate:
          type: string
          format: string
          example: d
        ReportingUnitProductVersion:
          type: string
          format: string
          example: x
        State:
          type: string
          format: string
          example: UT
        CentroidLongitude:
          type: string
          format: string
        CentroidLatitude:
          type: string
          format: string
        Geometry:
          type: string
          format: date-time
        UpstreamBasinIdentifier:
          type: string
          format: string
          example: 2016-08-29T09:12:33.001Z
        DownstreamBasinIdentifier:
          type: string
          format: date-time
        EPSGCodeCV:
          type: string
          format: string
          example: 2016-08-29T09:12:33.001Z
        VerticalDatumEPSGCodeCV:
          type: string
          format: string
          example: 2016-08-29T09:12:33.001Z
        NHDMetadataID:
          $ref: '#/components/schemas/NHDMetadata'
        OrganizationID:
          $ref: '#/components/schemas/Organizations'
    WaterAllocations:
      required:
      - NativeWaterAllocationID
      - WaterAllocationUID
      type: object
      properties:
        WaterAllocationID:
          type: integer
          format: int32
          example: 1
        NativeWaterAllocationID:
          type: string
          format: string
          example: 1T
        WaterAllocationOwner:
          type: string
          format: string
        WaterAllocationApplicationDate:
          type: string
          format: date
        WaterAllocationPriorityDate:
          type: string
          format: date
        WaterAllocationLegalStatusCodeCV:
          type: string
          example: string
        WaterAllocationExpirationDate:
          type: string
          format: date
        WaterAllocationChangeApplicationIndicator:
          type: string
          example: Widget Adapter
        LegacyAllocationIDs:
          type: string
          example: Widget Adapter
    Sites:
      required:
      - SiteCode
      - SiteID
      type: object
      properties:
        SiteID:
          type: string
          format: uuid
          example: d290f1ee-6c54-4b01-90e6-d701748f0851
        SiteCode:
          type: string
          example: Widget Adapter
        Longitude:
          type: string
          format: date-time
        Latitude:
          type: string
          format: date-time
        Geometry:
          type: string
          format: date-time
        VerticalDatumEPSGCodeCV:
          type: string
          format: date-time
        CoordinateMethod:
          type: string
          format: date-time
        GNISCodeCV:
          type: string
          format: date-time
        State:
          type: string
          format: date-time
        NHDMetadataID:
          $ref: '#/components/schemas/NHDMetadata'
        OrganizationID:
          $ref: '#/components/schemas/Organizations'
    NHDMetadata:
      required:
      - NHDMetadataID
      type: object
      properties:
        NHDMetadataID:
          type: string
          format: uuid
        NHDNetworkStatusCV:
          type: string
          format: uuid
          example: d290f1ee-6c54-4b01-90e6-d701748f0851
        NHDProductCV:
          type: string
          example: Widget Adapter
        NHDUpdateDate:
          type: string
          format: date-time
        NHDReachCode:
          type: string
          format: date-time
        NHDMeasureNumber:
          type: string
          format: date-time
    Organizations:
      required:
      - name
      type: object
      properties:
        OrganizationCode:
          type: string
          example: ACME Corporation
        OrganizationName:
          type: string
          example: ACME Corporation
        OrganizationPurview:
          type: string
          example: ACME Corporation
        OrganizationWebsite:
          type: string
          example: ACME Corporation
        OrganizationPhoneNumber:
          type: string
          example: ACME Corporatio
        OrganizationContactName:
          type: string
          example: ACME Corporation
        OrganizationContactEmail:
          type: string
          format: url
          example: https://www.acme-corp.com
        State:
          type: string
          example: 408-867-5309
